---
const navItems: { title: string; label: string; url: string }[] = [
  {
    title: "Experiencia",
    label: "experiencia",
    url: "/#experiencia",
  },
  {
    title: "Proyectos",
    label: "proyectos",
    url: "/#proyectos",
  },
  {
    title: "Sobre m√≠",
    label: "sobre-mi",
    url: "/#sobre-mi",
  },
  {
    title: "Contacto",
    label: "contacto",
    url: "/#contacto",
  },
];
---

<nav class="navbar-scroll" :class="{'scrolled': scrolled}">
  <ul>
    {
      navItems.map((item) => (
        <li>
          <a href={item.url} aria-label={item.label}>
            {item.title}
          </a>
        </li>
      ))
    }
  </ul>
</nav>

<script>
  window.addEventListener("scroll", () => {
    const navbar = document.querySelector(".navbar-scroll");
    if (navbar) {
      if (window.scrollY > 0) {
        navbar.classList.add("scrolled");
      } else {
        navbar.classList.remove("scrolled");
      }
    }
  });
</script>

<style>
  @tailwind base;
  @tailwind components;
  @tailwind utilities;
  nav {
    @apply top-0 left-0 w-full md:w-auto md:left-1/2 md:-translate-x-1/2 py-6 fixed flex justify-center z-50 duration-300;

    & ul {
      @apply flex flex-row gap-8 w-auto duration-300 ease-in-out py-3 px-6 rounded-full border-[2px] border-transparent;

      & li {
        @apply cursor-pointer flex items-center relative;

        & a {
          @apply text-xs lg:text-sm w-auto duration-200 relative;

          &::after {
            content: "";
            @apply absolute -bottom-1 left-0 w-full h-0.5 bg-slate-500 rounded-full -translate-y-6 transition-all duration-200 opacity-0;
          }

          &:hover {
            @apply text-sky-200;

            &::after {
              @apply translate-y-0 opacity-100;
            }
          }
          &:active {
            @apply text-sky-100;
          }
        }
      }

      .theme-switch {
        @apply cursor-pointer text-sm flex items-center;
      }
    }
  }
  .navbar-scroll a.active {
    color: #ff0000; /* Cambia el color al que desees */
    /* Otros estilos de resaltado */
  }

  .navbar-scroll.scrolled {
    @apply py-2;
    & ul {
      @apply bg-slate-800/60 border-[1px] border-[rgba(255,255,255,0.2)] backdrop-blur;
    }
  }
</style>
